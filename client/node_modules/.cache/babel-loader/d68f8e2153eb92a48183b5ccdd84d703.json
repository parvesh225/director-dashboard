{"ast":null,"code":"import _classCallCheck from \"/Users/niua/Documents/Director-dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/niua/Documents/Director-dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/niua/Documents/Director-dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/niua/Documents/Director-dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/niua/Documents/Director-dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/niua/Documents/Director-dashboard/client/src/components/pages/ProjectFinance.js\";\nimport React, { Component } from \"react\";\n// import { useParams } from \"react-router-dom\";\nimport Footer from \"../layout/Footer\";\nimport Header from \"../layout/Header\";\nimport Sidebar from \"../layout/Sidebar\";\nimport withRouter from '../withRouter';\nimport moment from 'moment';\nvar axios = require(\"axios\").default;\nvar ProjectFinance = /*#__PURE__*/function (_Component) {\n  _inherits(ProjectFinance, _Component);\n  function ProjectFinance(props) {\n    var _this;\n    _classCallCheck(this, ProjectFinance);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProjectFinance).call(this, props));\n    _this.state = {};\n\n    // this.saveAmount = this.saveAmount.bind(this);\n    return _this;\n  }\n  _createClass(ProjectFinance, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      console.log('Props:', this.props.params.id);\n      axios.get(process.env.REACT_APP_BASE_URL + \"/api/admin/project-plan/\" + this.props.params.id).then(function (response) {\n        _this2.setState({\n          singleFields: response.data.data,\n          years: response.data.years,\n          centre: response.data.centres,\n          project: response.data.projects,\n          project_head: response.data.team_leader,\n          funding_agency: response.data.agencys\n        });\n        var financeesList = [];\n        for (var i = 0; i < response.data.teamStrength.length; i++) {\n          var eachItem = response.data.teamStrength[i];\n          var teamLength = eachItem.team;\n          var teamByTeamStrength = response.data.teams.filter(function (x) {\n            return x.team_strength_id === eachItem.id;\n          });\n          var totalLength = teamByTeamStrength.length;\n          for (var j = 0; j < totalLength; j++) {\n            var item = teamByTeamStrength[j];\n            financeesList.push({\n              id: item.id,\n              project_plan_id: item.project_plan_id,\n              remark: item.remark,\n              team_strength_id: eachItem.id,\n              position: item.position,\n              experience: item.experience,\n              qualification: item.qualification,\n              salary_slab: item.salary_slab,\n              employee_code: item.employee_code,\n              employee_name: item.employee_name\n            });\n          }\n          var pendingTeamCount = teamLength - totalLength;\n          if (pendingTeamCount > 0) {\n            for (var _j = 0; _j < pendingTeamCount; _j++) {\n              financeesList.push({\n                team_strength_id: eachItem.id,\n                project_plan_id: eachItem.project_plan_id,\n                remark: \"\",\n                position: eachItem.position,\n                experience: eachItem.experience,\n                qualification: eachItem.qualification,\n                salary_slab: eachItem.salary_slab,\n                employee_code: '',\n                employee_name: ''\n              });\n            }\n          }\n        }\n        //var totalTeamStren\n        _this2.setState({\n          team_strength: financeesList\n        });\n        financeesList = [];\n        for (var _i = 0; _i < response.data.projectActivity.length; _i++) {\n          var item2 = response.data.projectActivity[_i];\n          financeesList.push({\n            id: item2.id,\n            type: item2.type,\n            start_date: item2.start_date,\n            end_date: item2.end_date,\n            duration: item2.duration,\n            activities: item2.activities,\n            remarks: item2.remarks,\n            status: item2.status,\n            progress: item2.progress\n          });\n        }\n        _this2.setState({\n          project_activities: financeesList\n        });\n        financeesList = [];\n        for (var _i2 = 0; _i2 < response.data.otherActivity.length; _i2++) {\n          var item3 = response.data.otherActivity[_i2];\n          financeesList.push({\n            id: item3.id,\n            other_activity: item3.activities,\n            other_date: item3.date,\n            status: item3.status\n          });\n        }\n        _this2.setState({\n          other_activities: financeesList\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Sidebar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(\"aside\", {\n        className: \"control-sidebar control-sidebar-dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return ProjectFinance;\n}(Component); // export default ProjectFinance;\nexport default withRouter(ProjectFinance);","map":{"version":3,"names":["React","Component","Footer","Header","Sidebar","withRouter","moment","axios","require","default","ProjectFinance","_Component","_inherits","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","state","_createClass","key","value","componentDidMount","_this2","console","log","params","id","get","process","env","REACT_APP_BASE_URL","then","response","setState","singleFields","data","years","centre","centres","project","projects","project_head","team_leader","funding_agency","agencys","financeesList","i","teamStrength","length","eachItem","teamLength","team","teamByTeamStrength","teams","filter","x","team_strength_id","totalLength","j","item","push","project_plan_id","remark","position","experience","qualification","salary_slab","employee_code","employee_name","pendingTeamCount","team_strength","projectActivity","item2","type","start_date","end_date","duration","activities","remarks","status","progress","project_activities","otherActivity","item3","other_activity","other_date","date","other_activities","catch","error","render","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className"],"sources":["/Users/niua/Documents/Director-dashboard/client/src/components/pages/ProjectFinance.js"],"sourcesContent":["import React, { Component } from \"react\";\r\n// import { useParams } from \"react-router-dom\";\r\nimport Footer from \"../layout/Footer\";\r\nimport Header from \"../layout/Header\";\r\nimport Sidebar from \"../layout/Sidebar\";\r\nimport withRouter from '../withRouter';\r\nimport moment from 'moment';\r\nconst axios = require(\"axios\").default;\r\n\r\n\r\nclass ProjectFinance extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n     \r\n     \r\n    }\r\n    \r\n    // this.saveAmount = this.saveAmount.bind(this);\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    console.log('Props:', this.props.params.id);\r\n    \r\n\r\n\r\n    axios.get(process.env.REACT_APP_BASE_URL + \"/api/admin/project-plan/\" + this.props.params.id)\r\n      .then((response) => {\r\n        this.setState({\r\n          singleFields: response.data.data,\r\n          years: response.data.years,\r\n          centre: response.data.centres,\r\n          project: response.data.projects,\r\n          project_head: response.data.team_leader,\r\n          funding_agency: response.data.agencys,\r\n\r\n        })\r\n\r\n\r\n        var financeesList = [];\r\n        for (let i = 0; i < response.data.teamStrength.length; i++) {\r\n          var eachItem = response.data.teamStrength[i]\r\n          var teamLength = eachItem.team\r\n          var teamByTeamStrength = response.data.teams.filter(\r\n            function (x) { return x.team_strength_id === eachItem.id }\r\n          )\r\n          var totalLength = teamByTeamStrength.length\r\n          for (let j = 0; j < totalLength; j++) {\r\n            var item = teamByTeamStrength[j]\r\n            financeesList.push({\r\n              id: item.id,\r\n              project_plan_id: item.project_plan_id,\r\n              remark: item.remark,\r\n              team_strength_id: eachItem.id,\r\n              position: item.position,\r\n              experience: item.experience,\r\n              qualification: item.qualification,\r\n              salary_slab: item.salary_slab,\r\n              employee_code: item.employee_code,\r\n              employee_name: item.employee_name,\r\n            })\r\n          }\r\n\r\n          var pendingTeamCount = teamLength - totalLength;\r\n          if (pendingTeamCount > 0) {\r\n            for (let j = 0; j < pendingTeamCount; j++) {\r\n\r\n              financeesList.push({\r\n                team_strength_id: eachItem.id,\r\n                project_plan_id: eachItem.project_plan_id,\r\n                remark: \"\",\r\n                position: eachItem.position,\r\n                experience: eachItem.experience,\r\n                qualification: eachItem.qualification,\r\n                salary_slab: eachItem.salary_slab,\r\n                employee_code: '',\r\n                employee_name: '',\r\n              })\r\n            }\r\n          }\r\n        }\r\n        //var totalTeamStren\r\n        this.setState({ team_strength: financeesList })\r\n        financeesList = [];\r\n        for (let i = 0; i < response.data.projectActivity.length; i++) {\r\n          var item2 = response.data.projectActivity[i]\r\n          financeesList.push({\r\n            id: item2.id,\r\n            type: item2.type,\r\n            start_date: item2.start_date,\r\n            end_date: item2.end_date,\r\n            duration: item2.duration,\r\n            activities: item2.activities,\r\n            remarks: item2.remarks,\r\n            status: item2.status,\r\n            progress: item2.progress\r\n\r\n          })\r\n        }\r\n        this.setState({ project_activities: financeesList })\r\n        financeesList = [];\r\n        for (let i = 0; i < response.data.otherActivity.length; i++) {\r\n          var item3 = response.data.otherActivity[i]\r\n          financeesList.push({\r\n            id: item3.id,\r\n            other_activity: item3.activities,\r\n            other_date: item3.date,\r\n            status: item3.status\r\n          })\r\n        }\r\n        this.setState({ other_activities: financeesList })\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      })\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    \r\n    return (\r\n\r\n      <>\r\n        <Header />\r\n        <Sidebar />\r\n        <div className=\"content-wrapper\">\r\n          {/* Content Header (Page header) */}\r\n          <div className=\"content-header\">\r\n            <div className=\"container-fluid\">\r\n             \r\n\r\n             \r\n            </div>\r\n            {/* /.container-fluid */}\r\n          </div>\r\n        </div>\r\n        <aside className=\"control-sidebar control-sidebar-dark\">\r\n          {/* Control sidebar content goes here */}\r\n        </aside>\r\n\r\n        <Footer />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// export default ProjectFinance;\r\nexport default withRouter(ProjectFinance);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}